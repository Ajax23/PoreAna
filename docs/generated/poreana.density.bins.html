<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>bins &#8212; PoreAna 0.2.3 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=cab96e3b" />
    <script src="../_static/documentation_options.js?v=a47416a6"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          PoreAna</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
                <li><a href="../sample.html">Sample</a></li>
                <li><a href="../density.html">Density</a></li>
                <li><a href="../diffusion_bin.html">Diffusion (Bin)</a></li>
                <li><a href="../diffusion_mc.html">Diffusion (MC)</a></li>
                <li><a href="../further_props.html">Further Properties</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">bins</a><ul>
<li><a class="reference internal" href="#poreana.density.bins"><code class="docutils literal notranslate"><span class="pre">bins()</span></code></a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">bins</a><ul>
<li><a class="reference internal" href="#poreana.density.bins"><code class="docutils literal notranslate"><span class="pre">bins()</span></code></a></li>
</ul>
</li>
</ul>

<div id="sourcelink">
  <a href="../_sources/generated/poreana.density.bins.rst.txt"
     rel="nofollow">Source</a>
</div>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  </div>
<div class=col-md-9 content><section id="bins">
<h1>bins<a class="headerlink" href="#bins" title="Link to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="poreana.density.bins">
<span class="sig-prename descclassname"><span class="pre">poreana.density.</span></span><span class="sig-name descname"><span class="pre">bins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[[10,</span> <span class="pre">90],</span> <span class="pre">[10,</span> <span class="pre">90]]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dens</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#poreana.density.bins" title="Link to this definition">¶</a></dt>
<dd><p>This function calculates the density inside and outside of the pore.
This is done by calculating the number density <span class="math notranslate nohighlight">\(\rho_n\)</span> and using the
molar mass <span class="math notranslate nohighlight">\(M\)</span> of the molecule to determine the mass density
<span class="math notranslate nohighlight">\(\rho\)</span>.</p>
<p>The basic idea is counting the number of molecules <span class="math notranslate nohighlight">\(N_i\)</span> in volume
slices <span class="math notranslate nohighlight">\(V_i\)</span>, thus getting the number density <span class="math notranslate nohighlight">\(\rho_{n,i}\)</span> in
these sub volumes. Inside the pore this is done by creating a radial slicing
like the radial distribution function. These sub volumes are calculated by</p>
<div class="math notranslate nohighlight">
\[V_i^\text{radial}=\pi z_\text{pore}(r_i^2-r_{i-1}^2).\]</div>
<p>with pore length <span class="math notranslate nohighlight">\(z_\text{pore}\)</span> and radius <span class="math notranslate nohighlight">\(r_i\)</span> of sub volume
<span class="math notranslate nohighlight">\(i\)</span>. This yields</p>
<div class="math notranslate nohighlight">
\[\rho_{n,i}^\text{radial}=\frac{N_i}{V_i^\text{radial}}=\frac{N_i}{\pi z_\text{pore}}\frac{1}{r_i^2-r_{i-1}^2}.\]</div>
<p>Outside the pore, the sub volumes are given by</p>
<div class="math notranslate nohighlight">
\[V_j^\text{ex}=(x_\text{pore}\cdot y_\text{pore}-\pi r^2)z_j\]</div>
<p>with pore width <span class="math notranslate nohighlight">\(x_\text{pore}\)</span>, height <span class="math notranslate nohighlight">\(y_\text{pore}\)</span>, pore
radius <span class="math notranslate nohighlight">\(r\)</span> and slice width <span class="math notranslate nohighlight">\(z_j\)</span>. Thus</p>
<div class="math notranslate nohighlight">
\[\rho_{n,j}^\text{ex}=\frac{N_j}{V_j^\text{ex}}=\frac{N_j}{x_\text{pore}\cdot y_\text{pore}-\pi r^2}\frac{1}{z_j}.\]</div>
<p>Note that the outside refers to the reservoirs of the pore simulation.
Therefore the slices add up to the reservoir length <span class="math notranslate nohighlight">\(z_{res}\)</span>.
Since there is a reservoir on each side, they are brought together
by translating the atom coordinates to one of the reservoirs. Since the
outside density refers to the density of the outside surface, it does
not contain the cylindrical extension of the pore inside the reservoirs.</p>
<p>Finally, the mass density is calculated by</p>
<div class="math notranslate nohighlight">
\[\rho=\frac M{N_A}\rho_n\]</div>
<p>with Avogadro constant <span class="math notranslate nohighlight">\(N_A\)</span>. The units are then transformed to
<span class="math notranslate nohighlight">\(\frac{\text{kg}}{\text m^3}\)</span> by</p>
<div class="math notranslate nohighlight">
\[[\rho]=\frac{[M]\frac{\text{g}}{\text{mol}}}{[N_A]10^{23}\frac{\#}{\text{mol}}}[\rho_n]\frac{\#}{\text{nm}^3}
       =\frac{[M]}{[N_A]}[\rho_n]\cdot10\frac{\text{kg}}{\text m^3}\]</div>
<p>where the square brackets mean, that only the variables value is taken.
Since finding full molecules in a sub volume is difficult, the atoms
of the specified molecule are counted in the sub volumes and the result
is then divided by the number of atoms the molecule consists of.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>link_data</strong><span class="classifier">string</span></dt><dd><p>Link to hdf5, obj or yml data file generated by the sample routine <a class="reference internal" href="poreana.sample.Sample.init_density.html#poreana.sample.Sample.init_density" title="poreana.sample.Sample.init_density"><code class="xref py py-func docutils literal notranslate"><span class="pre">poreana.sample.Sample.init_density()</span></code></a></p>
</dd>
<dt><strong>area</strong><span class="classifier">list,  optional</span></dt><dd><p>Bin areas to calculate the mean number density from (pore, exout)</p>
</dd>
<dt><strong>target_dens</strong><span class="classifier">float, optional</span></dt><dd><p>Target density in <span class="math notranslate nohighlight">\(\frac{\text{kg}}{\text{m}^3}\)</span></p>
</dd>
<dt><strong>is_print</strong><span class="classifier">bool, optional</span></dt><dd><p>True to print output</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>density</strong><span class="classifier">dictionary</span></dt><dd><p>dictonary with inputs and the calculated density profiles and mean
density</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Hamzeh Kraus.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.4.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>